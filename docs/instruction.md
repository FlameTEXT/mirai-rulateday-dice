# 指令集

`将QQ机器人拉入群聊后就可以直接输入指令文本`
> 系统默认 d|D 都是属于100面骰子，所有的指令前缀 `.` 都可以用 `。`中文点(可能有一些指令还没有加入)


## .help
该指令为帮助信息指令，输入.help后将会显示相关的指令信息以及相关的链接，用于初次使用骰子的人员。

## .r 
该指令主要用于随机生成骰子的数值。

使用例子:
```
.r1d3+1d5 => 1d3+1d5=1+2=3
.rd=1d100 => 58
.rd+1d3 => D100+1d3=82+3=85
......
```
其中1d3相当于生成一个3面骰子的数值,2d3生成两个3面骰子的总计数值。

## .st
该指令可以设置你自己的检测属性数值，如果你使用过coc7自动卡，相信你一定会知道，在excel中的简化表有一段由自动卡生成的属性代码。
形如: 
```text
.st 力量50str50敏捷80dex80意志80pow80体质60con60外貌30app30教育80edu80体型40siz40智力80灵感80int80san80san值80理智80理智值80幸运45运气45mp16魔法16hp10体力10会计5人类学1估价5考古学1取悦15攀爬20计算机5计算机使用5电脑5信用25信誉25信用评级25克苏鲁0克苏鲁神话0cm0乔装5闪避75汽车20驾驶20汽车驾驶20电气维修10电子学1话术5斗殴25手枪75急救60历史5恐吓15跳跃20母语80法律5图书馆40图书馆使用40聆听70开锁1撬锁1锁匠1机械维修10医学71博物学50自然学50领航10导航10神秘学75重型操作1重型机械1操作重型机械1重型1说服10精神分析41心理学10骑术5妙手10侦查70潜行20生存10游泳20投掷20追踪10驯兽5潜水1爆破1读唇1催眠1炮术1
```

## .dnd
该指令可以自动生成dnd5e的角色属性
使用例子:
```text
##发送指令
.dnd5
##生成数据
力量:13 体质:7 敏捷:15 智力:11 感知:11 魅力:11 总计:68
力量:17 体质:7 敏捷:11 智力:13 感知:17 魅力:8 总计:73
力量:9 体质:14 敏捷:15 智力:17 感知:13 魅力:10 总计:78
力量:15 体质:14 敏捷:7 智力:11 感知:14 魅力:9 总计:70
力量:10 体质:10 敏捷:18 智力:11 感知:10 魅力:16 总计:75
```

## .coc 
该指令可以自动生成coc7的角色卡属性

使用例子:
```text
##发送指令
.coc5
##生成的数据结果
力量:25 体质:30 体型:75 敏捷:40 外貌:50 智力:65 意志:90 教育:85 幸运:45 总计:460/505
力量:70 体质:65 体型:45 敏捷:80 外貌:35 智力:45 意志:45 教育:40 幸运:25 总计:425/450
力量:60 体质:70 体型:55 敏捷:65 外貌:90 智力:50 意志:55 教育:55 幸运:85 总计:500/585
力量:80 体质:65 体型:30 敏捷:65 外貌:90 智力:25 意志:35 教育:70 幸运:90 总计:460/550
力量:60 体质:50 体型:55 敏捷:70 外貌:30 智力:45 意志:90 教育:45 幸运:90 总计:445/535
```
**其中.coc5的意思就是生成5条coc7人物数据，可以根据需求选择一次性生成多条数据**

## .sc
coc7理智检测指令 如果需要骰子系统自动帮忙记录减少数据，则需要提前先使用.st设置属性
```text
##先设置属性（可以通过coc7自动卡生成的属性进行录入
.st力量50敏捷70san50........
##其中san50则是理智检测指令的判断属性
.sc1d5/1d100
##如果没有提前设置指令，那么该指令不会有反馈，但是你可以在指令输入时，携带上你给出的数值，骰子可以帮计算出数值
.sc1d5/1d100 50
##上述的50则是携带上的san数值
```

## .rh
暗骰，即结果只有你自己知道，当你使用该指令时，骰子会向你发送一条骰子的信息结果
 
```text
##指令使用参考
.rh
##骰子发来的消息结果如下
D50=21=21
```

## .ra | .rc
属性检测，如果你已经录入.st那么不需要提供数值，如果没有，则需要提供数值
```text
##指令使用参考
.ra手枪
##下面是使用有数值的指令（都可以携带空格）
.ra手枪50
.ra 手枪 50
```
## .rb | .rp
惩罚骰和奖励骰指令，分为以下集中使用情况。
1. 配合.st指令使用
2. 给定技能和属性值使用
3. 直接使用

默认骰子为D100
```text
##第1种情况，在已有.st属性的情况下
.st力量70手枪50
.rb2手枪
-> 掷骰手枪:B2=91 奖励骰:[2, 8]=21/50困难成功

##第2种情况，直接给定数值
.rb2手枪80
-> 掷骰手枪:B2=48 奖励骰:[8, 2]=28/80困难成功

##第3种情况，不使用任何属性和数值，只按骰子默认值
.rb2
-> 掷骰:B2=87 奖励骰:[0, 8]=7
```


## .dr
Dnd5e数据库查询指令，它会匹配所有Dnd5e相关的数据记录，找出你输入的关键字参数的所有匹配结果。
当你筛选至查询只有一条记录时，才会显示该记录的详细信息。

其中包含的信息类型包含：
- 怪物图鉴
- 种族
- 工具
- 魔法物品
- 武器装备
- 世界背景
- 技能列表
- 技能详情
- 其他

```text
##使用参考
.dr法师0环
```

## .cr
coc7技能详细查询指令，可以查询coc7中的常规技能介绍
```text
##指令参考
.cr人类学
```

## 先攻(Initiative)指令
在该模块里面总共包含了以下几个指令。其中使用的是您的默认骰作为骰子面数。
默认骰可以通过`.set`指令来完成设置

### .atk 
先攻骰生成

快速的根据你的当前昵称（如果是群，则用群昵称，如果是私聊则用你自己的当前昵称），以及你的默认骰数值生成一个整数。
并将这个数值以及昵称进行绑定，存储至先攻池。然后通过.atklist指令来看先攻池里面的骰子数值。
如果先攻池里面已经存在了你的昵称相应的骰子，那么再次使用指令则会替换掉原来的属于你骰子。

除此之外，本指令还提供了额外的参数识别能力，例如：`.atk1d20+5`则是根据你的骰子公式来生成数值。

因此例如在DND5e的规则中，先攻往往会受到敏捷的影响，为了方便快速的得到先攻值，可以通过：`.atk1d20+3` 
其中1d20是生成1个20面的骰子，`d`前面的1是作为骰子个数，后面的20是作为骰子面数。`+`号后面的数值为敏捷调整值。
系统会根据公式来直接计算出数值结果。

除此之外系统还支持更为简洁的输入形式，例如我的默认骰为 20，我的敏捷调整至为3
则投掷先攻骰的时候，可以直接输入`.atkd+3` 其中`d`代表了默认骰前面忽略数值为默认1.

Q：那么DM如果想要加入多个怪物则如何使用？
A: 在本指令中，还允许使用自定义昵称绑定骰子数值，例如：`.atkd20+2 安德鲁`只需要在其骰子数值公式的后面插入一个空格，然后空格后面携带上你定义的昵称即可。
如果DM要加入多个怪物，可以直接使用多次指令`.atkd20+2 怪物A` `.atkd20+2 怪物B` 

> 先攻骰子如何是在群里面生成，则以整个群作为先攻池。如果是私聊，则以你自己作为先攻池。

### .atklist 
显示先攻列表

输入该指令后，会根据当前的先攻池生成先攻列表。例如：
```text
输入：.atklist
返回：先攻顺序为:怪物A[17]>安德拉[17]>怪物B[7]
```

### .atkdel
删除先攻骰

该指令提供了两种形式：一种是直接输入 `.atkdel` 该指令它会根据你当前的昵称作为参数输入。
例如你的昵称为：张三

那么当你输入 `.atkdel`的时候 实际上等于输入 `.atkdel 张三`

另外一种则是指定删除对应昵称的先攻骰。
例如： `.atkdel 怪物A` 


### .atkclear
清空先攻池所有的骰子

输入该指令后，将会清空所对应的先攻池里的所有骰子数值。

## 牌堆系统
**该系统分为两个模块**

牌堆：根据所在群号或者用户QQ号构成的一个池（初始没有任何数据），通过相应的卡组名称，来给池中添加数据。

卡组：即一个组中，包含了数个数据。可以称为牌种。例如扑克牌、塔罗牌等

该系统的设置是每个牌堆用一个群号作为区分，因此不同的群的牌堆是不一样的。而且私聊建立的牌堆也和群不一样。

**系统默认卡组携带有以下卡组**
1. 塔罗牌-大阿卡纳
2. 塔罗牌-小阿卡纳
3. 塔罗牌-空白牌
4. 扑克牌
5. 麻将

### .cards
`.cards`指令为卡组查询指令，用于获取当前骰子数据库中存在的卡组列表名称。

### .cardsAdd
该指令为添加卡组指令，用于给骰子数据库中添加一个卡组。指令参数为 `.cards[卡组名称] [卡组数据] `，例子如下：
```text
.cardsAdd阿拉伯数字 0,1,2,3,4,5,6,7,8,9
```
### .cardsDel
该指令为删除卡组指令，通过输入相应的卡组名，从数据库中移除该卡组。建议不要删除系统默认的卡组。指令参数 `.cardsDel[卡组名称]` 例子如下：
```text
.cardsDel阿拉伯数字
```

### .drawAdd
牌堆添加数据指令，通过给定相应的卡组名称，则可以往牌堆中添加数据。指令参数 `.drawAdd[卡组名称]` ，例子：
```text
.drawAdd阿拉伯数字
```

### .draw
从牌堆不放回的随机抽出数据  指令为`.draw`

### .drawHide
该指令也是抽出指令，区别在于该指令是隐式抽取，抽取结果骰子机器人会通过私聊的形式告诉你。这样就避免了大家都知道你抽到了什么。
不过大家依旧可以通过.drawList 来通过对比知道你抽出了什么，因此，如果是玩隐式抽取，应该禁止大家在抽取过程中使用.drawList指令。


### .drawClear
清空牌堆数据，将牌堆中的数据全部移除。 指令为 `.drawClear`

## .name
随机名字生成指令，`.name5`后面的数字代表生成的个数。生成参考如下:
```text
##输入指令
.name5

##返回结果
随机名字:熊谷昌治、趙仲企、基佩特、岳祥、馮秀瑩
```
一般情况下数个名字会包含[日本、中国(古代|现代)、欧美]的人名

## .sa
设置自己的单个属性数值，如果此前的`.st`中没有包含有修改的属性，那么将无法成功。修改的数值需要先进行`.st`设置
```text
.st手枪50
设置属性成功!
.sa手枪30
您的属性已更新:手枪40 => 手枪30
.sa力量80
你的属性中，不存在该属性，请通过.st重新设置
```

## .ga
获取自己的所有属性
```text
.st力量50敏捷30手枪70
设置属性成功!
.ga
力量50敏捷30手枪70
```

## .en
属性成长指令，需要提供属性名或者 属性名+数值，例子如下:
```text
.st力量50手枪70
设置属性成功!
.en力量
D100=95/50 [力量] 成长成功! 你当前的[力量]为D10=7+50=57
.en敏捷
你通过.st设置的属性中，不存在[敏捷]这个技能
.en敏捷50
D100=30/50 [敏捷50] 成长失败!

```

## .ww
骰池功能，多半用于无限团。生成数个10面骰子、判断每个骰子的数值，如果骰子数值>=再骰值，则再额外再骰一次，以此类推，最后统计所有>=8面数的骰子。 
a为重骰值、k为检测值、m为面数、b为附加成功数
例子如下：
```text
.ww10
10a10k8m10b0={2,8,8,8,3,7,9,7,3,8}=5+0=5

##给定重骰值
.ww10a8
10a8k8m10b0={10,2,5,4,8,9,3,8,9,5}+{10,4,8,4,7}+{6,2}=7+0=7

##定制重骰值、确认值、面数、附加成功值
.ww10a6k6m8+5
10a6k6m8b5={3,8,4,4,7,4,6,7,8,1}+{8,5,7,5,1}+{4,8}+{7}+{3}+5=9+5=14

##输出多次的骰池值
.ww3#10
10a10k8m10b0={10,10,2,10,1,5,9,6,4,7}+{6,1,2}=4+0=4
10a10k8m10b0={2,8,8,8,3,7,9,7,3,8}=5+0=5
10a10k8m10b0={4,2,4,9,1,3,9,8,7,10}+{4}=4+0=4

```


## More

有待添加,欢迎各位补充.**点击右上角编辑当前页**

